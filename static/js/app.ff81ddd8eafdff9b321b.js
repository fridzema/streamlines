webpackJsonp([1],{"0EQ5":function(t,n,e){var i=e("v3xi");t.exports=function(t,n){var e=Math.max(t.width,t.height),i=Math.ceil(e/n),o=[];return{occupyCoordinates:function(n){var i=n.x,s=n.y;(function(n,i){!function(n,i){if(t.left>n||t.left+e<n)throw new Error("x is out of bounds");if(t.top>i||t.top+e<i)throw new Error("y is out of bounds")}(n,i);var s=u(n),d=o[s];d||(d=o[s]=[]);var f=a(i),c=d[f];c||(c=d[f]=new r);return c})(i,s).occupy(n)},isTaken:function(t,n,e){if(!o)return!1;for(var r=u(t),s=a(n),d=-1;d<2;++d){var f=r+d;if(!(f<0||f>=i)){var c=o[f];if(c)for(var h=-1;h<2;++h){var l=s+h;if(!(l<0||l>=i)){var p=c[l];if(p&&p.isTaken(t,n,e))return!0}}}}return!1},isOutside:function(n,e){return n<t.left||n>t.left+t.width||e<t.top||e>t.top+t.height}};function u(n){return Math.floor(i*(n-t.left)/e)}function a(n){return Math.floor(i*(n-t.top)/e)}};var r=function(){function t(){i(this,t),this.children=null}return t.prototype.occupy=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.isTaken=function(t,n,e){if(!this.children)return!1;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.x-t,u=r.y-n;if(e(Math.sqrt(o*o+u*u),r))return!0}return!1},t}()},"7PpZ":function(t,n,e){var i=e("v3xi"),r=function(){function t(n,e){i(this,t),this.x=n,this.y=e}return t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y)},t.prototype.mulScalar=function(n){return new t(this.x*n,this.y*n)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.normalize=function(){var t=this.length();this.x/=t,this.y/=t},t.prototype.distanceTo=function(t){var n=t.x-this.x,e=t.y-this.y;return Math.sqrt(n*n+e*e)},t}();t.exports=r},KCfz:function(t,n){t.exports=function(t){if(!t)throw new Error("Canvas is required");var n=t.getContext("2d"),e=t.width,i=t.height;return function(t,e,i){n.beginPath(),n.strokeStyle="rgba(0, 0, 0, 0.6)",t=r(t,i.boundingBox),e=r(e,i.boundingBox),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.closePath()};function r(t,n){var r=(t.x-n.left)/n.width,o=(t.y-n.top)/n.height;return{x:r*e,y:(1-o)*i}}}},NEgR:function(t,n,e){var i=e("S3PC"),r="function getVelocity(p) {\n  var l = Math.sqrt(p.x * p.x + p.y * p.y);\n  return {\n    x: Math.cos(l),\n    y: Math.log(Math.abs(p.x))\n  };\n}",o={left:-5,top:-5,width:10,height:10},u={code:r,error:null,isImmediate:!1,setCode:function(t,n){var e=b(t);e&&(u.error=null,u.code=t,a.vectorField=e,n?m():u.immediate||w(),u.immediate=n)}},a={vectorField:null,seed:v,boundingBox:o,stepsPerIteration:15,timeStep:.01,dSep:.1,dTest:.005,onPointAdded:function(t,n){return l.beginPath(),l.strokeStyle=s,t=S(t),n=S(n),l.moveTo(t.x,t.y),l.lineTo(n.x,n.y),l.stroke(),l.closePath(),!0}},s="rgba(255, 255, 255, 0.6)",d="rgba(27, 41, 74, 1.0)";window.addEventListener("resize",w);var f,c,h,l,p,g,x={isDirty:!1,init:function(t){l=(h=t).getContext("2d"),a.vectorField=b(r),m()},fieldCode:u,redraw:m,getIntegrationProximity:function(){return a.dTest},setIntegrationProximity:function(t){var n=y(t,a.dTest);n<=0&&(n=.001),n>1&&(n=1),a.dTest=t,a.dTest>=a.dSep?x.settingsPanel.dWarning="Stop distance should be smaller than line distance":x.settingsPanel.dWarning="",w()},getFieldDensity:function(){return a.dSep},setFieldDensity:function(t){a.dSep=y(t,a.dSep),w()},getLineColor:function(){return s},setLineColor:function(t,n,e,i){s="rgba("+t+", "+n+", "+e+", "+i+")",w()},getFillColor:function(){return d},setFillColor:function(t,n,e,i){d="rgba("+t+", "+n+", "+e+", "+i+")",w()},getStepsPerIteration:function(){return a.stepsPerIteration},setStepsPerIteration:function(t){a.stepsPerIteration=y(t,a.stepsPerIteration),w()},getIntegrationTimeStep:function(){return a.timeStep},setIntegrationTimeStep:function(t){a.timeStep=y(t,a.timeStep),w()},settingsPanel:{collapsed:!0},moveBoundingBox:function(t){var n=y(t.minX,o.left),e=y(t.minY,o.top),i=y(t.maxX,n+o.width),r=y(t.maxY,e+o.height);o.left=n,o.top=e,o.width=i-n,o.height=Math.abs(e-r),w()},bounds:(f=o,{minX:f.left,minY:f.top,maxX:f.left+f.width,maxY:f.top+f.height})},v={x:o.left+Math.random()*o.width,y:o.top+Math.random()*o.height};function y(t,n){var e=Number.parseFloat(t);return Number.isNaN(e)?n:e}function m(){x.settingsPanel.isDirty=!1,p=window.innerWidth,g=window.innerHeight,h.width=p,h.height=g,l.clearRect(0,0,h.width,h.height),l.fillStyle=d,l.fillRect(0,0,h.width,h.height),function(){c&&(c.dispose(),c=null);(c=i(a)).run()}()}function w(){x.settingsPanel.isDirty=!0}function S(t){var n=(t.x-o.left)/o.width,e=(t.y-o.top)/o.height;return{x:n*p,y:(1-e)*g}}function b(t){try{var n=new Function(t+"\nreturn getVelocity;")();return n(v),n}catch(t){return u.error=t.message,null}}t.exports=x},R6aK:function(t,n,e){var i=e("7PpZ"),r=e("Y/iN"),o=e("0EQ5"),u=1,a=2,s=3;function d(t,n){return Math.abs(t-n)<1e-4}t.exports=function(t,n,e){var f=[t],c=t,h=u,l=null,p=-1,g=o(e.boundingBox,.9*e.timeStep);return{start:t,next:function(){for(;;){if(l=null,h===u){var n=m();if(n){f.push(n),g.occupyCoordinates(n),c=n;var e=T(n);if(e)return}else c=t,h=a}if(h===a){var n=w();if(n){f.unshift(n),c=n,g.occupyCoordinates(n);var e=T(n);if(e)return}else h=s}if(h===s)return f.forEach(y),!0}},getStreamline:function(){return f},getNextValidSeed:function(){for(;p<f.length-1;){var t=f[p+=1],r=P(t);if(r){var o=t.x-r.y*e.dSep,u=t.y+r.x*e.dSep;if(!n.isOutside(o,u)&&!n.isTaken(o,u,v))return p-=1,new i(o,u);var a=t.x+r.y*e.dSep,s=t.y-r.x*e.dSep;if(!n.isOutside(a,s)&&!n.isTaken(a,s,v))return new i(a,s)}}}};function x(t){return!d(t,e.dTest)&&t<e.dTest}function v(t){return!d(t,e.dSep)&&t<e.dSep}function y(t){n.occupyCoordinates(t)}function m(){var t=r(c,e.timeStep,P);if(t)return S(c,t)}function w(){var t=r(c,e.timeStep,P);if(t)return t=t.mulScalar(-1),S(c,t)}function S(t,e){if(l=t.add(e),!n.isOutside(l.x,l.y)&&!n.isTaken(l.x,l.y,x)&&!g.isTaken(l.x,l.y,b))return l}function b(t){return t<.9*e.timeStep}function T(t){var n=!1;return e.onPointAdded&&(n=e.onPointAdded(t,f[h===u?f.length-2:1],e)),n}function P(t){var t=e.vectorField(t);if(t&&!Number.isNaN(t.x)&&!Number.isNaN(t.y)){var n=t.x*t.x+t.y*t.y;if(0!==n)return n=Math.sqrt(n),new i(t.x/n,t.y/n)}}}},S3PC:function(t,n,e){t.exports=function(t){if(!t)throw new Error("Configuration is required to compute streamlines");t.boundingBox||(console.warn("No bounding box passed to streamline. Creating default one"),t.boundingBox={left:-5,top:-5,width:10,height:10});(function(t){var n="Bounding box {left, top, width, height} is required";if(!t)throw new Error(n);if(c(t.left,n),c(t.top,n),"number"==typeof t.size&&(t.width=t.size,t.height=t.size),c(t.width,n),c(t.height,n),t.width<=0||t.height<=0)throw new Error("Bounding box cannot be empty")})(t.boundingBox),t.seed?t.seed=new i(t.seed.x,t.seed.y):t.seed=new i(Math.random()*t.boundingBox.width+t.boundingBox.left,Math.random()*t.boundingBox.height+t.boundingBox.top);var n=t.boundingBox;t.dSep>0||(t.dSep=1/Math.max(n.width,n.height));t.dTest>0||(t.dTest=.5*t.dSep);var e=r(n,t.dSep);t.timeStep>0||(t.timeStep=.01);var h,l,p=t.stepsPerIteration||10,g=u,x=[],v=o(t.seed,e,t),y=!1,m=!1;return{run:function(){if(m)return;return m=!0,l=setTimeout(S,0),new Promise(w)},dispose:function(){y=!0,clearTimeout(l)}};function w(t){h=t}function S(){if(!y){for(var n=0;n<p;++n)if(g===u&&b(),g===a&&C(),g===s&&P(),g===f&&T(),g===d)return void h(t);l=setTimeout(S,0)}}function b(){var t=v.next();t&&(M(),g=s)}function T(){var n=x[0],i=n.getNextValidSeed();i?(v=o(i,e,t),g=a):(x.shift(),g=s)}function P(){g=0===x.length?d:f}function C(){var t=v.next();t&&(M(),g=f)}function M(){var n=v.getStreamline();n.length>1&&(x.push(v),t.onStreamlineAdded&&t.onStreamlineAdded(n,t))}},t.exports.renderTo=e("KCfz");var i=e("7PpZ"),r=e("0EQ5"),o=e("R6aK"),u=0,a=1,s=2,d=3,f=4;function c(t,n){if("number"!=typeof t)throw new Error(n)}},"Y/iN":function(t,n){t.exports=function(t,n,e){var i=e(t);if(!i)return;var r=e(t.add(i.mulScalar(.5*n)));if(!r)return;var o=e(t.add(r.mulScalar(.5*n)));if(!o)return;var u=e(t.add(o.mulScalar(n)));if(!u)return;return i.mulScalar(n/6).add(r.mulScalar(n/3)).add(o.mulScalar(n/3)).add(u.mulScalar(n/6))}},v3xi:function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},viej:function(t,n,e){var i=e("NEgR"),r=document.getElementById("scene-canvas");r&&i.init(r),e.e(0).then(function(){e("NHnr")}.bind(null,e)).catch(e.oe)}},["viej"]);
//# sourceMappingURL=app.ff81ddd8eafdff9b321b.js.map